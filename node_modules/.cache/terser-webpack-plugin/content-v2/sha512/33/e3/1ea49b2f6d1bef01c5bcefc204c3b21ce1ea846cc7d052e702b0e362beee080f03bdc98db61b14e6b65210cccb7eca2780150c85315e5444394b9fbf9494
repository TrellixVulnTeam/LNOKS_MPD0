{"code":"(this[\"webpackJsonpreact_movies-list-fetch-movies\"]=this[\"webpackJsonpreact_movies-list-fetch-movies\"]||[]).push([[0],{16:function(e,t,c){},17:function(e,t,c){},18:function(e,t,c){},21:function(e,t,c){},22:function(e,t,c){\"use strict\";c.r(t);var i=c(8),s=c.n(i),a=(c(15),c(10)),n=c(2),r=c(1),l=(c(16),c(17),c(18),c(0)),d=function(e){var t=e.movie;return Object(l.jsxs)(\"div\",{className:\"card\",\"data-cy\":\"movieCard\",children:[Object(l.jsx)(\"div\",{className:\"card-image\",children:Object(l.jsx)(\"figure\",{className:\"image is-4by3\",children:Object(l.jsx)(\"img\",{\"data-cy\":\"moviePoster\",src:t.imgUrl,alt:\"Film logo\"})})}),Object(l.jsxs)(\"div\",{className:\"card-content\",children:[Object(l.jsxs)(\"div\",{className:\"media\",children:[Object(l.jsx)(\"div\",{className:\"media-left\",children:Object(l.jsx)(\"figure\",{className:\"image is-48x48\",children:Object(l.jsx)(\"img\",{src:\"images/imdb-logo.jpeg\",alt:\"imdb\"})})}),Object(l.jsx)(\"div\",{className:\"media-content\",children:Object(l.jsx)(\"p\",{className:\"title is-8\",\"data-cy\":\"movieTitle\",children:t.title})})]}),Object(l.jsxs)(\"div\",{className:\"content\",\"data-cy\":\"movieDescription\",children:[t.description,Object(l.jsx)(\"br\",{}),Object(l.jsx)(\"a\",{href:t.imdbUrl,\"data-cy\":\"movieURL\",children:\"IMDB\"})]})]})]})},o=function(e){var t=e.movies;return Object(l.jsx)(\"div\",{className:\"movies\",children:t.map((function(e){return Object(l.jsx)(d,{movie:e},e.imdbId)}))})},j=c(9),m=c(6),b=c.n(m),u=c(7),h=c.n(u);function v(e){return fetch(\"\".concat(\"https://www.omdbapi.com/?apikey=f51a2b4b\",\"&t=\").concat(e)).then((function(e){return e.json()})).catch((function(){return{Response:\"False\",Error:\"unexpected error\"}}))}c(21);var O=function(e){var t=e.onAddMovie,c=e.isInList,i=e.resetIsInList,s=Object(r.useState)(null),a=Object(n.a)(s,2),o=a[0],m=a[1],u=Object(r.useState)(\"\"),O=Object(n.a)(u,2),x=O[0],p=O[1],f=Object(r.useState)(!1),N=Object(n.a)(f,2),g=N[0],y=N[1],w=Object(r.useState)(!1),I=Object(n.a)(w,2),S=I[0],F=I[1],k=function(){var e=Object(j.a)(b.a.mark((function e(t){var c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!0),e.next=4,v(x);case 4:\"Error\"in(c=e.sent)?(F(!0),y(!1)):(i={title:c.Title,description:c.Plot,imgUrl:\"N/A\"===c.Poster?\"https://via.placeholder.com/360x270.png?text=no%20preview\":c.Poster,imdbUrl:\"https://www.imdb.com/title/\".concat(c.imdbID),imdbId:c.imdbID},m(i),y(!1));case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(\"form\",{className:\"find-movie\",onSubmit:k,children:[Object(l.jsxs)(\"div\",{className:\"field\",children:[Object(l.jsx)(\"label\",{className:\"label\",htmlFor:\"movie-title\",children:\"Movie title\"}),Object(l.jsx)(\"div\",{className:\"control\",children:Object(l.jsx)(\"input\",{\"data-cy\":\"titleField\",type:\"text\",id:\"movie-title\",placeholder:\"Enter a title to search\",className:h()(\"input\",{\"is-danger\":S}),value:x,onChange:function(e){p(e.target.value),F(!1),i()}})}),S&&Object(l.jsx)(\"p\",{className:\"help is-danger\",\"data-cy\":\"errorMessage\",children:\"Can't find a movie with such a title\"}),c&&Object(l.jsx)(\"p\",{className:\"help is-danger\",children:\"This movie is already added\"})]}),Object(l.jsxs)(\"div\",{className:\"field is-grouped\",children:[Object(l.jsx)(\"div\",{className:\"control\",children:Object(l.jsx)(\"button\",{\"data-cy\":\"searchButton\",type:\"submit\",className:h()(\"button\",\"is-light\",{\"is-loading\":g}),disabled:!x,children:o?\"Search again\":\"Find a movie\"})}),o&&Object(l.jsx)(\"div\",{className:\"control\",children:Object(l.jsx)(\"button\",{\"data-cy\":\"addButton\",type:\"button\",className:\"button is-primary\",onClick:function(){o&&(t(o),m(null),p(\"\"))},children:\"Add to the list\"})})]})]}),o&&Object(l.jsxs)(\"div\",{className:\"container\",\"data-cy\":\"previewContainer\",children:[Object(l.jsx)(\"h2\",{className:\"title\",children:\"Preview\"}),Object(l.jsx)(d,{movie:o})]})]})},x=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),c=t[0],i=t[1],s=Object(r.useState)(!1),d=Object(n.a)(s,2),j=d[0],m=d[1];return Object(l.jsxs)(\"div\",{className:\"page\",children:[Object(l.jsx)(\"div\",{className:\"page-content\",children:Object(l.jsx)(o,{movies:c})}),Object(l.jsx)(\"div\",{className:\"sidebar\",children:Object(l.jsx)(O,{onAddMovie:function(e){c.some((function(t){return t.imdbId===e.imdbId}))?m(!0):i((function(t){return[].concat(Object(a.a)(t),[e])}))},isInList:j,resetIsInList:function(){m(!1)}})})]})};s.a.render(Object(l.jsx)(x,{}),document.getElementById(\"root\"))}},[[22,1,2]]]);","name":"static/js/main.c020b5e2.chunk.js","map":{"version":3,"sources":["static/js/main.c020b5e2.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react_dom","react_dom_default","n","toConsumableArray","slicedToArray","react","jsx_runtime","MovieCard_MovieCard_MovieCard","_ref","movie","Object","className","children","src","imgUrl","alt","title","description","href","imdbUrl","MoviesList_MoviesList_MoviesList","movies","map","imdbId","asyncToGenerator","regenerator","regenerator_default","classnames","classnames_default","getMovie","query","fetch","concat","then","res","json","catch","Response","Error","FindMovie_FindMovie_FindMovie","onAddMovie","isInList","resetIsInList","_useState","_useState2","setMovie","_useState3","_useState4","setQuery","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","hasError","setHasError","handleSubmit","_ref2","a","mark","_callee","event","movieFromServer","newMovie","wrap","_context","prev","next","preventDefault","sent","Title","Plot","Poster","imdbID","stop","_x","apply","arguments","onSubmit","htmlFor","type","id","placeholder","value","onChange","target","disabled","onClick","App_App","setMovies","setIsInList","some","item","currentMovies","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpreact_movies-list-fetch-movies\"] = this[\"webpackJsonpreact_movies-list-fetch-movies\"] || []).push([[0],{\n\n/***/ 16:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 17:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 21:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 22:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(8);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/bulma/css/bulma.css\nvar bulma = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./src/App.scss\nvar src_App = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./src/components/MoviesList/MoviesList.scss\nvar MoviesList_MoviesList = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./src/components/MovieCard/MovieCard.scss\nvar MovieCard_MovieCard = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/MovieCard/MovieCard.tsx\nvar MovieCard_MovieCard_MovieCard=function MovieCard(_ref){var movie=_ref.movie;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card\",\"data-cy\":\"movieCard\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card-image\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"figure\",{className:\"image is-4by3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{\"data-cy\":\"moviePoster\",src:movie.imgUrl,alt:\"Film logo\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"media\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"media-left\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"figure\",{className:\"image is-48x48\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"images/imdb-logo.jpeg\",alt:\"imdb\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"media-content\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"title is-8\",\"data-cy\":\"movieTitle\",children:movie.title})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"content\",\"data-cy\":\"movieDescription\",children:[movie.description,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:movie.imdbUrl,\"data-cy\":\"movieURL\",children:\"IMDB\"})]})]})]});};\n// CONCATENATED MODULE: ./src/components/MovieCard/index.tsx\n\n// CONCATENATED MODULE: ./src/components/MoviesList/MoviesList.tsx\nvar MoviesList_MoviesList_MoviesList=function MoviesList(_ref){var movies=_ref.movies;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"movies\",children:movies.map(function(movie){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MovieCard_MovieCard_MovieCard,{movie:movie},movie.imdbId);})});};\n// CONCATENATED MODULE: ./src/components/MoviesList/index.tsx\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(6);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(7);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// CONCATENATED MODULE: ./src/api.ts\nvar API_URL='https://www.omdbapi.com/?apikey=f51a2b4b';function getMovie(query){return fetch(\"\".concat(API_URL,\"&t=\").concat(query)).then(function(res){return res.json();}).catch(function(){return{Response:'False',Error:'unexpected error'};});}\n// EXTERNAL MODULE: ./src/components/FindMovie/FindMovie.scss\nvar FindMovie_FindMovie = __webpack_require__(21);\n\n// CONCATENATED MODULE: ./src/components/FindMovie/FindMovie.tsx\nvar FindMovie_FindMovie_FindMovie=function FindMovie(_ref){var onAddMovie=_ref.onAddMovie,isInList=_ref.isInList,resetIsInList=_ref.resetIsInList;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),movie=_useState2[0],setMovie=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),query=_useState4[0],setQuery=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),hasError=_useState8[0],setHasError=_useState8[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var movieFromServer,newMovie;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();setIsLoading(true);_context.next=4;return getMovie(query);case 4:movieFromServer=_context.sent;if('Error'in movieFromServer){setHasError(true);setIsLoading(false);}else{newMovie={title:movieFromServer.Title,description:movieFromServer.Plot,imgUrl:movieFromServer.Poster==='N/A'?'https://via.placeholder.com/360x270.png?text=no%20preview':movieFromServer.Poster,imdbUrl:\"https://www.imdb.com/title/\".concat(movieFromServer.imdbID),imdbId:movieFromServer.imdbID};setMovie(newMovie);setIsLoading(false);}case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var changeQuery=function changeQuery(event){setQuery(event.target.value);setHasError(false);resetIsInList();};var clear=function clear(){setMovie(null);setQuery('');};var handleAddMovie=function handleAddMovie(){if(movie){onAddMovie(movie);clear();}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"find-movie\",onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"field\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"label\",htmlFor:\"movie-title\",children:\"Movie title\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"control\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{\"data-cy\":\"titleField\",type:\"text\",id:\"movie-title\",placeholder:\"Enter a title to search\",className:classnames_default()('input',{'is-danger':hasError}),value:query,onChange:changeQuery})}),hasError&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"help is-danger\",\"data-cy\":\"errorMessage\",children:\"Can't find a movie with such a title\"}),isInList&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"help is-danger\",children:\"This movie is already added\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"field is-grouped\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"control\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{\"data-cy\":\"searchButton\",type:\"submit\",className:classnames_default()('button','is-light',{'is-loading':isLoading}),disabled:!query,children:movie?'Search again':'Find a movie'})}),movie&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"control\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{\"data-cy\":\"addButton\",type:\"button\",className:\"button is-primary\",onClick:handleAddMovie,children:\"Add to the list\"})})]})]}),movie&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",\"data-cy\":\"previewContainer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"title\",children:\"Preview\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MovieCard_MovieCard_MovieCard,{movie:movie})]})]});};\n// CONCATENATED MODULE: ./src/components/FindMovie/index.tsx\n\n// CONCATENATED MODULE: ./src/App.tsx\nvar App_App=function App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isInList=_useState4[0],setIsInList=_useState4[1];var addMovie=function addMovie(movie){if(!movies.some(function(item){return item.imdbId===movie.imdbId;})){setMovies(function(currentMovies){return[].concat(Object(toConsumableArray[\"a\" /* default */])(currentMovies),[movie]);});}else{setIsInList(true);}};var resetIsInList=function resetIsInList(){setIsInList(false);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"page-content\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MoviesList_MoviesList_MoviesList,{movies:movies})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sidebar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FindMovie_FindMovie_FindMovie,{onAddMovie:addMovie,isInList:isInList,resetIsInList:resetIsInList})})]});};\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_App,{}),document.getElementById('root'));\n\n/***/ })\n\n},[[22,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/postcss-loader/src/index.js??postcss!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/src/App.scss","/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/postcss-loader/src/index.js??postcss!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/src/components/MoviesList/MoviesList.scss","/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/postcss-loader/src/index.js??postcss!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/src/components/MovieCard/MovieCard.scss","/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/postcss-loader/src/index.js??postcss!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/src/components/FindMovie/FindMovie.scss","/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/src/components/MovieCard/MovieCard.tsx","/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/src/components/MoviesList/MoviesList.tsx","/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/src/api.ts","/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/src/components/FindMovie/FindMovie.tsx","/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/src/App.tsx","/Users/romanlipatov/Documents/Projects/React/react_movies-list-fetch-movies/src/index.tsx"],"names":["MovieCard","movie","imgUrl","title","description","imdbUrl","MoviesList","movies","map","imdbId","API_URL","getMovie","query","fetch","then","res","json","catch","Response","Error","FindMovie","onAddMovie","isInList","resetIsInList","useState","setMovie","setQuery","isLoading","setIsLoading","hasError","setHasError","handleSubmit","event","preventDefault","movieFromServer","newMovie","Title","Plot","Poster","imdbID","changeQuery","target","value","clear","handleAddMovie","classNames","App","setMovies","setIsInList","addMovie","some","item","currentMovies","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from 'react';\nimport { Movie } from '../../types/Movie';\nimport './MovieCard.scss';\n\ntype Props = {\n  movie: Movie,\n};\n\nexport const MovieCard: React.FC<Props> = ({ movie }) => (\n  <div className=\"card\" data-cy=\"movieCard\">\n    <div className=\"card-image\">\n      <figure className=\"image is-4by3\">\n        <img\n          data-cy=\"moviePoster\"\n          src={movie.imgUrl}\n          alt=\"Film logo\"\n        />\n      </figure>\n    </div>\n    <div className=\"card-content\">\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <figure className=\"image is-48x48\">\n            <img\n              src=\"images/imdb-logo.jpeg\"\n              alt=\"imdb\"\n            />\n          </figure>\n        </div>\n        <div className=\"media-content\">\n          <p className=\"title is-8\" data-cy=\"movieTitle\">{movie.title}</p>\n        </div>\n      </div>\n\n      <div className=\"content\" data-cy=\"movieDescription\">\n        {movie.description}\n        <br />\n        <a href={movie.imdbUrl} data-cy=\"movieURL\">\n          IMDB\n        </a>\n      </div>\n    </div>\n  </div>\n);\n","import React from 'react';\n\nimport './MoviesList.scss';\nimport { MovieCard } from '../MovieCard';\nimport { Movie } from '../../types/Movie';\n\ntype Props = {\n  movies: Movie[];\n};\n\nexport const MoviesList: React.FC<Props> = ({ movies }) => (\n  <div className=\"movies\">\n    {movies.map(movie => (\n      <MovieCard\n        key={movie.imdbId}\n        movie={movie}\n      />\n    ))}\n  </div>\n);\n","import { MovieData } from './types/MovieData';\nimport { ResponseError } from './types/ReponseError';\n\nconst API_URL = 'https://www.omdbapi.com/?apikey=f51a2b4b';\n\nexport function getMovie(query: string): Promise<MovieData | ResponseError> {\n  return fetch(`${API_URL}&t=${query}`)\n    .then(res => res.json())\n    .catch(() => ({\n      Response: 'False',\n      Error: 'unexpected error',\n    }));\n}\n","import classNames from 'classnames';\nimport React, { useState } from 'react';\nimport { getMovie } from '../../api';\nimport { Movie } from '../../types/Movie';\nimport { MovieCard } from '../MovieCard';\nimport './FindMovie.scss';\n\ntype Props = {\n  onAddMovie: (movie: Movie) => void,\n  isInList: boolean,\n  resetIsInList: () => void,\n};\n\nexport const FindMovie: React.FC<Props> = ({\n  onAddMovie,\n  isInList,\n  resetIsInList,\n}) => {\n  const [movie, setMovie] = useState<Movie | null>(null);\n  const [query, setQuery] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    setIsLoading(true);\n\n    const movieFromServer = await getMovie(query);\n\n    if ('Error' in movieFromServer) {\n      setHasError(true);\n      setIsLoading(false);\n    } else {\n      const newMovie = {\n        title: movieFromServer.Title,\n        description: movieFromServer.Plot,\n        imgUrl: movieFromServer.Poster === 'N/A'\n          ? 'https://via.placeholder.com/360x270.png?text=no%20preview'\n          : movieFromServer.Poster,\n        imdbUrl: `https://www.imdb.com/title/${movieFromServer.imdbID}`,\n        imdbId: movieFromServer.imdbID,\n      };\n\n      setMovie(newMovie);\n      setIsLoading(false);\n    }\n  };\n\n  const changeQuery = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setQuery(event.target.value);\n    setHasError(false);\n    resetIsInList();\n  };\n\n  const clear = () => {\n    setMovie(null);\n    setQuery('');\n  };\n\n  const handleAddMovie = () => {\n    if (movie) {\n      onAddMovie(movie);\n      clear();\n    }\n  };\n\n  return (\n    <>\n      <form className=\"find-movie\" onSubmit={handleSubmit}>\n        <div className=\"field\">\n          <label className=\"label\" htmlFor=\"movie-title\">\n            Movie title\n          </label>\n          <div className=\"control\">\n            <input\n              data-cy=\"titleField\"\n              type=\"text\"\n              id=\"movie-title\"\n              placeholder=\"Enter a title to search\"\n              className={classNames('input', {\n                'is-danger': hasError,\n              })}\n              value={query}\n              onChange={changeQuery}\n            />\n          </div>\n          {hasError && (\n            <p className=\"help is-danger\" data-cy=\"errorMessage\">\n              Can&apos;t find a movie with such a title\n            </p>\n          )}\n\n          {isInList && (\n            <p className=\"help is-danger\">\n              This movie is already added\n            </p>\n          )}\n        </div>\n\n        <div className=\"field is-grouped\">\n          <div className=\"control\">\n            <button\n              data-cy=\"searchButton\"\n              type=\"submit\"\n              className={classNames(\n                'button',\n                'is-light',\n                {\n                  'is-loading': isLoading,\n                },\n              )}\n              disabled={!query}\n            >\n              {movie\n                ? 'Search again'\n                : 'Find a movie'}\n            </button>\n          </div>\n          {movie && (\n            <div className=\"control\">\n              <button\n                data-cy=\"addButton\"\n                type=\"button\"\n                className=\"button is-primary\"\n                onClick={handleAddMovie}\n              >\n                Add to the list\n              </button>\n            </div>\n          )}\n        </div>\n      </form>\n      {movie && (\n        <div className=\"container\" data-cy=\"previewContainer\">\n          <h2 className=\"title\">Preview</h2>\n          <MovieCard movie={movie} />\n        </div>\n      )}\n    </>\n  );\n};\n","import { useState } from 'react';\nimport './App.scss';\nimport { MoviesList } from './components/MoviesList';\nimport { FindMovie } from './components/FindMovie';\nimport { Movie } from './types/Movie';\n\nexport const App = () => {\n  const [movies, setMovies] = useState<Movie[]>([]);\n  const [isInList, setIsInList] = useState(false);\n\n  const addMovie = (movie: Movie) => {\n    if (!movies.some(item => item.imdbId === movie.imdbId)) {\n      setMovies(currentMovies => [...currentMovies, movie]);\n    } else {\n      setIsInList(true);\n    }\n  };\n\n  const resetIsInList = () => {\n    setIsInList(false);\n  };\n\n  return (\n    <div className=\"page\">\n      <div className=\"page-content\">\n        <MoviesList movies={movies} />\n      </div>\n\n      <div className=\"sidebar\">\n        <FindMovie\n          onAddMovie={addMovie}\n          isInList={isInList}\n          resetIsInList={resetIsInList}\n        />\n      </div>\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport 'bulma/css/bulma.css';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"]}}